/* =============================================================================
   custom.scss – Projekt-Branding für HTML-Output
   ========================================================================== */

/*-- scss:defaults --*/
/* Compile-time Fallbacks für Bootstrap/Bootswatch */
$brand: #33A0D4; // Markenfarbe
$brand-font: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, sans-serif;

$primary: $brand;
$link-color: $brand;

/* Automatische Kontrastfarbe für Navbar-Text (schwarz/weiß) */
$nav-fg: color-contrast($brand);

/*-- scss:rules --*/

/* Light-Theme Variablen */
:root,
:root[data-bs-theme="light"],
.quarto-light {
  --brand: #{$brand};
  --bs-primary: var(--brand);
  /* wichtig: RGB setzen, damit .bg-primary zuverlässig gefärbt wird */
  --bs-primary-rgb: #{to-rgb($brand)};
  --bs-link-color: var(--brand);
  --bs-link-hover-color: color-mix(in srgb, var(--brand) 85%, black);
}

/* Dark-Theme Variablen (Dark kann bei Bedarf eigenes $brand in theme-dark.scss setzen) */
:root[data-bs-theme="dark"],
.quarto-dark {
  --brand: #{$brand};
  --bs-primary: var(--brand);
  --bs-primary-rgb: #{to-rgb($brand)};
  --bs-link-color: var(--brand);
  --bs-link-hover-color: color-mix(in srgb, var(--brand) 85%, white);
}

/* Navbar sicher einfärben + gute Lesbarkeit erzwingen */
.navbar.bg-primary,
.navbar.navbar-dark.bg-primary,
.navbar.navbar-light.bg-primary {
  background-color: var(--bs-primary) !important;
  border-color: var(--bs-primary) !important;

  /* Bootstrap Navbar-Variablen hart setzen (aus $nav-fg) */
  --bs-navbar-color: #{$nav-fg};
  --bs-navbar-hover-color: rgba(#{$nav-fg}, .85);
  --bs-navbar-brand-color: #{$nav-fg};
  --bs-navbar-brand-hover-color: rgba(#{$nav-fg}, .85);

  /* Fallback gegen Theme-Overrides */
  color: var(--bs-navbar-color) !important;
}

.navbar.bg-primary .navbar-brand,
.navbar.bg-primary .nav-link {
  color: var(--bs-navbar-color) !important;
}
.navbar.bg-primary .nav-link:hover,
.navbar.bg-primary .navbar-brand:hover {
  color: var(--bs-navbar-hover-color) !important;
}

/* Grundschrift (Brand-Font) */
body { font-family: $brand-font; }

/* Feinschliff (optional, Accessibility & UX) */
a { text-decoration-thickness: .08em; }
a:hover { text-decoration-thickness: .12em; }
a:visited { color: color-mix(in srgb, var(--brand) 90%, black); }
a:focus-visible, .btn:focus-visible {
  outline: .18rem solid color-mix(in srgb, var(--brand) 60%, black);
  outline-offset: .15rem;
}

.btn-primary { border-color: var(--bs-primary); }
.btn-primary:hover {
  background-color: color-mix(in srgb, var(--brand) 85%, black);
  border-color: currentColor;
}
